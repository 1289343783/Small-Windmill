import{g as ke,m as Ce,_ as B,d as M,a as t,u as Q,r as $,x as ue,n as me,ag as Se,l as $e,W as V,w as J,q as fe,p as Le,c as le,b as ae,P as S,aI as se,L as He,aJ as D,M as P,E as pe,F as x,z as O,A as a,G as m,C as v,H as R,aK as Be,at as T,ax as Ie,X as Ae,aL as ze,aM as Oe,aN as Te}from"./index-5PpaRQ4V.js";import{I as y}from"./iconify-DiTP47LM.js";import{S as ge,j as Me,u as Ee,_ as De,M as Pe}from"./index-DqOc7EMi.js";import{D as N,a as q,U as Re,S as _e,A as Ne}from"./UserOutlined-De4iP9X2.js";import{B as We}from"./index-Bj9HVelq.js";import{i as je}from"./useState-Cj3IvW2q.js";import{i as Ke,_ as Fe}from"./index-DIz0b_zD.js";import{R as re}from"./RightOutlined-BZ_LZo5C.js";import{L as ie}from"./LeftOutlined-QmrvFNcE.js";import{_ as ee}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useFlexGapSupport-DreIYkeg.js";N.Button=q;N.install=function(e){return e.component(N.name,N),e.component(q.name,q),e};const Ge=e=>{const{componentCls:n,colorBgContainer:o,colorBgBody:l,colorText:r}=e;return{[`${n}-sider-light`]:{background:o,[`${n}-sider-trigger`]:{color:r,background:o},[`${n}-sider-zero-width-trigger`]:{color:r,background:o,border:`1px solid ${l}`,borderInlineStart:0}}}},Ue=e=>{const{antCls:n,componentCls:o,colorText:l,colorTextLightSolid:r,colorBgHeader:_,colorBgBody:f,colorBgTrigger:d,layoutHeaderHeight:c,layoutHeaderPaddingInline:w,layoutHeaderColor:b,layoutFooterPadding:s,layoutTriggerHeight:p,layoutZeroTriggerSize:k,motionDurationMid:L,motionDurationSlow:i,fontSize:g,borderRadius:u}=e;return{[o]:B(B({display:"flex",flex:"auto",flexDirection:"column",color:l,minHeight:0,background:f,"&, *":{boxSizing:"border-box"},[`&${o}-has-sider`]:{flexDirection:"row",[`> ${o}, > ${o}-content`]:{width:0}},[`${o}-header, &${o}-footer`]:{flex:"0 0 auto"},[`${o}-header`]:{height:c,paddingInline:w,color:b,lineHeight:`${c}px`,background:_,[`${n}-menu`]:{lineHeight:"inherit"}},[`${o}-footer`]:{padding:s,color:l,fontSize:g,background:f},[`${o}-content`]:{flex:"auto",minHeight:0},[`${o}-sider`]:{position:"relative",minWidth:0,background:_,transition:`all ${L}, background 0s`,"&-children":{height:"100%",marginTop:-.1,paddingTop:.1,[`${n}-menu${n}-menu-inline-collapsed`]:{width:"auto"}},"&-has-trigger":{paddingBottom:p},"&-right":{order:1},"&-trigger":{position:"fixed",bottom:0,zIndex:1,height:p,color:r,lineHeight:`${p}px`,textAlign:"center",background:d,cursor:"pointer",transition:`all ${L}`},"&-zero-width":{"> *":{overflow:"hidden"},"&-trigger":{position:"absolute",top:c,insetInlineEnd:-k,zIndex:1,width:k,height:k,color:r,fontSize:e.fontSizeXL,display:"flex",alignItems:"center",justifyContent:"center",background:_,borderStartStartRadius:0,borderStartEndRadius:u,borderEndEndRadius:u,borderEndStartRadius:0,cursor:"pointer",transition:`background ${i} ease`,"&::after":{position:"absolute",inset:0,background:"transparent",transition:`all ${i}`,content:'""'},"&:hover::after":{background:"rgba(255, 255, 255, 0.2)"},"&-right":{insetInlineStart:-k,borderStartStartRadius:u,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:u}}}}},Ge(e)),{"&-rtl":{direction:"rtl"}})}},Xe=ke("Layout",e=>{const{colorText:n,controlHeightSM:o,controlHeight:l,controlHeightLG:r,marginXXS:_}=e,f=r*1.25,d=Ce(e,{layoutHeaderHeight:l*2,layoutHeaderPaddingInline:f,layoutHeaderColor:n,layoutFooterPadding:`${o}px ${f}px`,layoutTriggerHeight:r+_*2,layoutZeroTriggerSize:r});return[Ue(d)]},e=>{const{colorBgLayout:n}=e;return{colorBgHeader:"#001529",colorBgBody:n,colorBgTrigger:"#002140"}}),te=()=>({prefixCls:String,hasSider:{type:Boolean,default:void 0},tagName:String});function U(e){let{suffixCls:n,tagName:o,name:l}=e;return r=>M({compatConfig:{MODE:3},name:l,props:te(),setup(f,d){let{slots:c}=d;const{prefixCls:w}=Q(n,f);return()=>{const b=B(B({},f),{prefixCls:w.value,tagName:o});return t(r,b,c)}}})}const oe=M({compatConfig:{MODE:3},props:te(),setup(e,n){let{slots:o}=n;return()=>t(e.tagName,{class:e.prefixCls},o)}}),Ve=M({compatConfig:{MODE:3},inheritAttrs:!1,props:te(),setup(e,n){let{slots:o,attrs:l}=n;const{prefixCls:r,direction:_}=Q("",e),[f,d]=Xe(r),c=$([]);ue(ge,{addSider:s=>{c.value=[...c.value,s]},removeSider:s=>{c.value=c.value.filter(p=>p!==s)}});const b=me(()=>{const{prefixCls:s,hasSider:p}=e;return{[d.value]:!0,[`${s}`]:!0,[`${s}-has-sider`]:typeof p=="boolean"?p:c.value.length>0,[`${s}-rtl`]:_.value==="rtl"}});return()=>{const{tagName:s}=e;return f(t(s,B(B({},l),{class:[b.value,l.class]}),o))}}}),Y=U({suffixCls:"layout",tagName:"section",name:"ALayout"})(Ve),K=U({suffixCls:"layout-header",tagName:"header",name:"ALayoutHeader"})(oe),F=U({suffixCls:"layout-footer",tagName:"footer",name:"ALayoutFooter"})(oe),G=U({suffixCls:"layout-content",tagName:"main",name:"ALayoutContent"})(oe);var Ye={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"};function ce(e){for(var n=1;n<arguments.length;n++){var o=arguments[n]!=null?Object(arguments[n]):{},l=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(l=l.concat(Object.getOwnPropertySymbols(o).filter(function(r){return Object.getOwnPropertyDescriptor(o,r).enumerable}))),l.forEach(function(r){Ze(e,r,o[r])})}return e}function Ze(e,n,o){return n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}var ne=function(n,o){var l=ce({},n,o.attrs);return t(Se,ce({},l,{icon:Ye}),null)};ne.displayName="BarsOutlined";ne.inheritAttrs=!1;const de={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px",xxxl:"1999.98px"},Je=()=>({prefixCls:String,collapsible:{type:Boolean,default:void 0},collapsed:{type:Boolean,default:void 0},defaultCollapsed:{type:Boolean,default:void 0},reverseArrow:{type:Boolean,default:void 0},zeroWidthTriggerStyle:{type:Object,default:void 0},trigger:S.any,width:S.oneOfType([S.number,S.string]),collapsedWidth:S.oneOfType([S.number,S.string]),breakpoint:S.oneOf(se("xs","sm","md","lg","xl","xxl","xxxl")),theme:S.oneOf(se("light","dark")).def("dark"),onBreakpoint:Function,onCollapse:Function}),qe=(()=>{let e=0;return function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return e+=1,`${n}${e}`}})(),Z=M({compatConfig:{MODE:3},name:"ALayoutSider",inheritAttrs:!1,props:je(Je(),{collapsible:!1,defaultCollapsed:!1,reverseArrow:!1,width:200,collapsedWidth:80}),emits:["breakpoint","update:collapsed","collapse"],setup(e,n){let{emit:o,attrs:l,slots:r}=n;const{prefixCls:_}=Q("layout-sider",e),f=$e(ge,void 0),d=V(!!(e.collapsed!==void 0?e.collapsed:e.defaultCollapsed)),c=V(!1);J(()=>e.collapsed,()=>{d.value=!!e.collapsed}),ue(Me,d);const w=(i,g)=>{e.collapsed===void 0&&(d.value=i),o("update:collapsed",i),o("collapse",i,g)},b=V(i=>{c.value=i.matches,o("breakpoint",i.matches),d.value!==i.matches&&w(i.matches,"responsive")});let s;function p(i){return b.value(i)}const k=qe("ant-sider-");f&&f.addSider(k),fe(()=>{J(()=>e.breakpoint,()=>{try{s==null||s.removeEventListener("change",p)}catch{s==null||s.removeListener(p)}if(typeof window<"u"){const{matchMedia:i}=window;if(i&&e.breakpoint&&e.breakpoint in de){s=i(`(max-width: ${de[e.breakpoint]})`);try{s.addEventListener("change",p)}catch{s.addListener(p)}p(s)}}},{immediate:!0})}),Le(()=>{try{s==null||s.removeEventListener("change",p)}catch{s==null||s.removeListener(p)}f&&f.removeSider(k)});const L=()=>{w(!d.value,"clickTrigger")};return()=>{var i,g;const u=_.value,{collapsedWidth:H,width:I,reverseArrow:C,zeroWidthTriggerStyle:W,trigger:A=(i=r.trigger)===null||i===void 0?void 0:i.call(r),collapsible:j,theme:X}=e,E=d.value?H:I,h=Ke(E)?`${E}px`:String(E),z=parseFloat(String(H||0))===0?t("span",{onClick:L,class:le(`${u}-zero-width-trigger`,`${u}-zero-width-trigger-${C?"right":"left"}`),style:W},[A||t(ne,null,null)]):null,he={expanded:C?t(re,null,null):t(ie,null,null),collapsed:C?t(ie,null,null):t(re,null,null)},ye=d.value?"collapsed":"expanded",ve=he[ye],xe=A!==null?z||t("div",{class:`${u}-trigger`,onClick:L,style:{width:h}},[A||ve]):null,be=[l.style,{flex:`0 0 ${h}`,maxWidth:h,minWidth:h,width:h}],we=le(u,`${u}-${X}`,{[`${u}-collapsed`]:!!d.value,[`${u}-has-trigger`]:j&&A!==null&&!z,[`${u}-below`]:!!c.value,[`${u}-zero-width`]:parseFloat(h)===0},l.class);return t("aside",ae(ae({},l),{},{class:we,style:be}),[t("div",{class:`${u}-children`},[(g=r.default)===null||g===void 0?void 0:g.call(r)]),j||c.value&&z?xe:null])}}}),Qe=K,et=F,tt=G,ot=B(Y,{Header:K,Footer:F,Content:G,Sider:Z,install:e=>(e.component(Y.name,Y),e.component(K.name,K),e.component(F.name,F),e.component(Z.name,Z),e.component(G.name,G),e)}),nt={class:"flex items-center h-16 text-center"},lt={key:0,class:"flex-none w-full"},at={class:"flex justify-center items-center"},st={class:"flex-none"},rt={class:"flex justify-center items-center ml-2"},it=m("div",{class:"grow font-semibold"},[m("p",{class:"text-base"},"GALLERY-WINDMILL")],-1),ct={class:"flex-none mr-2"},dt={key:0},ut={key:1},mt={key:1,class:"flex w-screen"},ft={class:"flex-none w-20"},pt=m("span",null,"关于",-1),gt={href:"/info/api"},_t={href:"/author"},ht={class:"grow"},yt={class:""},vt=m("span",{class:"font-semibold italic text-2xl ml-2"},"GALLERY-WINDMILL",-1),xt={key:0,class:"flex-none mr-2"},bt=m("span",{class:"ml-1"},"登录",-1),wt=m("span",{class:"ml-1"},"注册账号",-1),kt={class:"ml-2"},Ct=M({__name:"GalleryHeaderCard",setup(e){const n=He(),{width:o}=Ee(),l=$(["Home"]),r=$([""]),_=$([{key:"Home",icon:()=>D(y,{icon:"ant-design:home-outlined"}),label:"主页",title:"主页",onClick:()=>{P.push("/home")}},{key:"userMenu",icon:()=>D(y,{icon:"material-symbols:settings"}),label:"用户设置",title:"用户设置",children:[{key:"userInfo",label:D("a",{href:"/user/info",target:"_blank"},"用户信息")},{key:"loginOut",label:"退出登录",onClick:()=>{n.logout(),P.push("/login")}}]}]),f=$([{key:"InfoApi",icon:()=>D(y,{icon:"eos-icons:api"}),label:"Api接口",title:"Api接口",onClick:()=>{P.push({name:"InfoApi"})}},{key:"AboutAuthor",icon:()=>D(y,{icon:"lets-icons:user-box-duotone"}),label:"关于作者",title:"关于作者",onClick:()=>{P.push({name:"AboutAuthor"})}}]),d=$(!1),c=$(!1),w=$("left"),b=$(!1),s=()=>{b.value=!0},p=()=>{b.value=!1},k=()=>{l.value=[""]},L=()=>{r.value=[""]};return J(o,i=>{i&&(i<768?c.value=!0:c.value=!1)}),fe(async()=>{d.value=await n.getIsLogin(),o.value&&(o.value<768?c.value=!0:c.value=!1)}),(i,g)=>{const u=We,H=pe("router-link"),I=De,C=Pe,W=N,A=_e,j=Qe,X=Ne,E=Fe;return x(),O(Ae,null,[t(j,{style:{position:"fixed",zIndex:1,width:"100%",paddingInline:0,backgroundColor:"rgb(236,238,243)"}},{default:a(()=>[m("div",nt,[c.value?(x(),O("div",lt,[m("div",at,[m("div",st,[m("div",rt,[t(v(y),{icon:"ph:windmill",style:{height:"40px",width:"40px"}})])]),it,m("div",ct,[d.value?(x(),O("div",ut,[t(u,{class:"ml-2",type:"primary",onClick:s},{default:a(()=>[t(v(y),{icon:"mdi:menu-close"})]),_:1})])):(x(),O("div",dt,[t(W,null,{overlay:a(()=>[t(C,null,{default:a(()=>[t(I,{key:"1"},{default:a(()=>[t(H,{to:"/login"},{default:a(()=>[t(u,{class:"w-20",size:"small",type:"primary"},{default:a(()=>[R(" 登录 ")]),_:1})]),_:1})]),_:1}),t(I,{key:"2"},{default:a(()=>[t(H,{to:"/register"},{default:a(()=>[t(u,{class:"w-20",size:"small",type:"primary"},{default:a(()=>[R(" 注册账号 ")]),_:1})]),_:1})]),_:1})]),_:1})]),default:a(()=>[t(u,null,{default:a(()=>[t(v(y),{icon:"solar:list-down-bold"})]),_:1})]),_:1})]))])])])):(x(),O("div",mt,[m("div",ft,[t(W,null,{overlay:a(()=>[t(C,null,{default:a(()=>[t(I,null,{default:a(()=>[m("a",gt,[t(v(y),{icon:"eos-icons:api"}),R(" API接口文档 ")])]),_:1}),t(I,null,{default:a(()=>[m("a",_t,[t(v(y),{icon:"lets-icons:user-box-duotone"}),R(" 关于作者 ")])]),_:1})]),_:1})]),default:a(()=>[m("a",{class:"ant-dropdown-link flex justify-center items-center",onClick:g[0]||(g[0]=Be(()=>{},["prevent"]))},[pt,t(v(y),{class:"ml-2",icon:"subway:down-2"})])]),_:1})]),m("div",ht,[m("div",yt,[t(v(y),{icon:"ph:windmill",style:{height:"20px",width:"20px"}}),vt])]),d.value?(x(),T(C,{key:1,selectedKeys:l.value,"onUpdate:selectedKeys":g[1]||(g[1]=h=>l.value=h),items:_.value,class:"flex-none",mode:"horizontal",style:{"background-color":"rgb(236,238,243)"}},null,8,["selectedKeys","items"])):(x(),O("div",xt,[t(A,null,{default:a(()=>[t(H,{to:"/login"},{default:a(()=>[t(u,{type:"primary"},{default:a(()=>[t(v(y),{height:"15",icon:"mdi:login",width:"15"}),bt]),_:1})]),_:1}),t(H,{to:"/register"},{default:a(()=>[t(u,{type:"primary"},{default:a(()=>[t(v(y),{height:"18",icon:"mdi:register-outline",width:"18"}),wt]),_:1})]),_:1})]),_:1})]))]))])]),_:1}),t(E,{closable:!1,open:b.value,placement:w.value,width:280,onClose:p},{title:a(()=>{var h,z;return[m("div",null,[t(X,{size:64,src:(h=v(n).$state.userInfo)==null?void 0:h.avatar},{icon:a(()=>[t(v(Re))]),_:1},8,["src"]),m("span",kt,Ie((z=v(n).$state.userInfo)==null?void 0:z.userName),1)])]}),default:a(()=>[t(C,{selectedKeys:l.value,"onUpdate:selectedKeys":g[2]||(g[2]=h=>l.value=h),items:_.value,class:"flex-row",mode:"inline",style:{"border-inline-end":"none"},onClick:L},null,8,["selectedKeys","items"]),t(C,{selectedKeys:r.value,"onUpdate:selectedKeys":g[3]||(g[3]=h=>r.value=h),items:f.value,class:"flex-row",mode:"inline",style:{"border-inline-end":"none"},onClick:k},null,8,["selectedKeys","items"])]),_:1},8,["open","placement"])],64)}}}),St={},$t={style:{background:"#fff",minHeight:"84vh"}};function Lt(e,n){const o=tt;return x(),T(o,{style:{marginTop:"64px"}},{default:a(()=>[m("div",$t,[ze(e.$slots,"default")])]),_:3})}const Ht=ee(St,[["render",Lt]]),Bt={};function It(e,n){const o=et;return x(),T(o,{style:{textAlign:"center"},class:"font-semibold text-base"},{default:a(()=>[R(" gallery windmill ©2024 @author gallery-windmill ")]),_:1})}const At=ee(Bt,[["render",It]]),zt=M({__name:"Index",setup(e){const n=me(()=>P.getRoutes().filter(l=>l.meta.isKeepAlive).map(l=>String(l.name)));return(o,l)=>{const r=pe("router-view"),_=_e,f=ot;return x(),T(f,null,{default:a(()=>[t(_,{direction:"vertical"},{default:a(()=>[t(Ct),t(Ht,{class:"p-2"},{default:a(()=>[t(r,null,{default:a(({Component:d,route:c})=>[(x(),T(Oe,{include:n.value,max:10},[(x(),T(Te(d),{key:c.fullPath}))],1032,["include"]))]),_:1})]),_:1}),t(At)]),_:1})]),_:1})}}}),Ft=ee(zt,[["__scopeId","data-v-44e5316e"]]);export{Ft as default};
